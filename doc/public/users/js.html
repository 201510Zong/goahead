<!DOCTYPE html>
<html lang="en">
<head>
    <title>Embedded Javascript</title>
    <!-- Copyright Embedthis Software, LLC, 2003-2014. All Rights Reserved. -->
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="keywords" content="goahead, embedded web server, embedded, devices, http server, internet of things, appweb" />
    <meta name="description" content="Simple, fast, secure embedded web server" />
    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Open+Sans:300italic,400,300,700'
        rel='stylesheet' type='text/css'>
<!--
    <link href='http://fonts.googleapis.com/css?family=Audiowide' rel='stylesheet' type='text/css'>
-->
    <link href='http://fonts.googleapis.com/css?family=Julius+Sans+One' rel='stylesheet' type='text/css'>
    <link href="../lib/semantic/css/semantic.css" rel="stylesheet" type="text/css" />
    <link href="../css/all.css" rel="stylesheet" type="text/css" />
    <link href="../images/favicon.ico" rel="shortcut icon" />

</head>
<body>
    

    <div class="ui inverted masthead">
         
        <div class="column">
            <div class="ui inverted menu">
                <div class="ui black small launch right attached toggle button">
                    <i class="icon list layout"></i>
                </div>
                <div class="right menu">
                     
                    <a class="item" href="https://embedthis.com/">Embedthis</a>
                    <a class="item" href="https://embedthis.com/appweb/">Appweb Site</a>
                    <a class="item" href="http://goo.gl/dGRDl4">Appweb News</a>
                    <a class="item" href="https://github.com/embedthis/appweb">Repository</a>
                    <a class="item" href="https://embedthis.com/blog/">Blog</a>
                    <a class="item" href="https://twitter.com/mobstream">Twitter</a>

                </div>
            </div>
            
            <div class="ui breadcrumb">
                <a class="section" href="../">Home</a>
                
                <div class="divider">/</div>
                <a class="section" href="index.html">
                    User's Guide
                </a>
                
                <div class="divider">/</div>
                <a class="active section" href="js.html">Embedded Javascript</a>
            </div>
            
            <div class="ui right floated basic segment version">
                v3.4.0
            </div>
        </div>

    </div>
    <div class="content">

            <h1>Embedded Javascript</h1>
            
            <p>GoAhead provides an embedded version of Javascript for use in JST pages.  As the full Javascript 5
            specification is quite a large language, GoAhead's implements a small subset suitable for embedded use.
            GoAhead Javascript&trade; is a strict subset of Javascript and implements the essential elements of the language.
            It also provides the engine for JST pages to enable the easy creation of dynamic web pages.</p>
            <p>A standalone product, <a href="http://ejscript.org/">Embedthis Ejscript&trade;</a> more fully supports the
            latest Javascript 5 specification and when used with <a href="http://appwebserver.org">Appweb</a> is an 
            alternative to GoAhead if you have sufficient memory available.</p>
            <p>When GoAhead Javascript is used inside a JST web page, it consists of a script within JST delimiters. 
            The basic format is:</p>
             <pre class="ui code segment">&lt;% function(arguments, ...); %&gt;</pre>
            <p>Javascript functions are created by the jsSetGlobalFunction. When the function is evaluated, the
            corresponding C procedure that implements the Javascript function is called.</p>
            <p>GoAhead Javascript implements the following Javascript elements:</p>
            <ul>
                <li>Case sensitivity</li>
                <li>White space</li>
                <li>Semicolons</li>
                <li>Comments</li>
                <li>Identifiers</li>
                <li>Data types including numbers, booleans, and strings with backslash characters</li>
                <li>Full expressions</li>
                <li>If/else, for, return</li>
                <li>Global function calls</li>
            </ul>
            <p>The following language elements are not implemented:</p>
            <ul>
                <li>Arrays</li>
                <li>Objects</li>
                <li>Labeled statements</li>
                <li>Control flow statements including: break, case, continue, default, do/while, export, for/in, function,
                import,switch, var, while, and with</li>
                <li>Regular expressions</li>
            </ul>
            <p>Javascript scripts can span multiple lines by using "\" as the last character on the preceding line. When
            used in JST pages, function arguments can contain any query variable defined in either the URL query string or
            the standard variable set.  URL query strings are automatically decoded, and Javascript variables are defined to
            the decoded query value. For example, to parse the name and address encoded as a query string in a URL, use the
            following code:</p>
            <pre class="ui code segment">http://localhost/mypage?name=smith&amp;age=35</pre>
            <pre class="ui code segment">
int myAspProcedure(Webs wp, int argc, char **argv) {
    char *name = websGetVar(wp, "name", "undefined");
    char *age = websGetVar(wp, "age", "undefined");
    websWrite(wp, "Name %s, Age %s", name, age);
}
</pre>
             <p>Javascript procedures are registered by using the <a
                 href="../ref/api/goahead.html#group___webs_1ga4db3f71301ed08e4f8d3c466d3632ea1">websJstDefine</a> API. 
             This publishes a C procedure as a Javascript global function. For example:</p>
             <pre class="ui code segment">
extern int outputMyTable(int ejid, Webs wp, int argc, char **argv);
websJstDefine("outputTable", outputMyTable);
</pre>
             <p>The websJstDefine call publishes the Javascript command "outputTable" and links it to the
             outputMyTable C procedure. When an JST page is requested by the user's browser, any JST
             Javascript which uses the outputTable command will cause the outputMyTable to be called with
             the relevant arguments.

    </div>
    <div class="terms ui basic center aligned segment">
        <p>&copy; Embedthis Software, 2003-2014. All rights reserved.
            Generated on Sep  2, 2014.
        </p>
    </div>

    <script src="../lib/jquery/jquery.js"></script>
    <script src="../lib/semantic/javascript/query.js"></script>
    <script>
        $(function() {
            var url = '@@{top}@@{meta.url}';
            var active = $('.sidebar a[href="' + url +'"]');
            active.addClass('active');
            var sidebar = $(".sidebar");
            var height = sidebar.height();
            var offset = active.offset();
            if (offset && offset.top >= height) {
                var diff = height - active.offset().top;
                sidebar.scrollTop(height);
            }
        });
    </script> 

</body>
</html>
